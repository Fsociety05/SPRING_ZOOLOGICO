<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    <style type="text/css">
      #regiration_form fieldset:not(:first-of-type) {
        display: none;
      }
      </style>
      <link  rel="stylesheet" href="../../static/css/estilos_usuarios.css">
</head>
<body id ="bodyUsuarios">
    <nav id = "menu" class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
          
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#" style="color: white;">Inicio</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" style="color: white;">Itinerarios</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" style="color: white;">Especies</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#" style="color: white;">Usuarios</a>
              </li>
            </ul>
            <span class="navbar-text" style="color: white;">
              Acompa√±anos
              
            </span>
            <a class="navbar-brand" href="#"><img id="logo" src="../../static/images/logoNavBar.png" class="float-end" ></a>
          </div>
        </div>
      </nav>
      
      <div class="container">
        <br>
        <h2>Registro de usuarios</h2>
        <!--BARRA DE PROGRESO-->
        <div class="progress">
          
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
        
        </div>
        <br>

        <form action="#" id="regiration_form" novalidate th:action="@{/guardar}"  th:object="${usuario}" method="post">
        <fieldset>
        <h3>Paso 1: Crear su cuenta</h3>
        <div class="form-group">
        <label for="usuario">Usuario</label>
        <input type="text" class="form-control" id="usuario" name="usuario" th:field="*{usuario}" placeholder="nombre.apellido" required>
        </div>
        <input type="hidden" th:field="*{id}" name="id" id="id">
        <div class="form-group">
        <label for="exampleInputPassword1">Password</label>
        <input type="password" class="form-control" id="contrasenia" th:field="*{contrasenia}" placeholder="" required>
        <br>
        </div>
        <input type="button" name="siguiente" class="next btn btn-info" value="Siguiente" />
        </fieldset>
        <fieldset>
        <h2> Paso 2: Agregar datos personales</h2>
        <div class="form-group">
        <label for="nombre">Nombres</label>
        <input type="text" class="form-control" name="nombre" id="nombre" th:field="*{nombre}" placeholder="" required>
        </div>
        <div class="form-group">
        <label for="apellido">Apellidos</label>
        <input type="text" class="form-control" name="apellido" id="apellido" th:field="*{apellido}" placeholder="" required>
        </div>
        <div class="form-group">
        <label for="dni">Identidad</label>
        <input type="text" class="form-control" name="dni" id="dni" th:field="*{dni}" placeholder="Sin Guiones" required>
        </div>
        <div class="form-group">
        <label for="telefono">Telefono</label>
        <input type="text" class="form-control" name="telefono" id="telefono" th:field="*{telefono}" placeholder="">
        </div>
        <div class="form-group">
        <label for="correo">Correo</label>
        <input type="email" class="form-control" name="correo" id="correo" th:field="*{correo}" placeholder="">
        <br>
        </div>
        
        <input type="button" name="previous" class="previous btn btn-info" value="Previo" />
        <input type="button" name="next" class="next btn btn-info" value="Siguiente" />
        </fieldset>
        <fieldset>
        <h2>Paso 3: Perfil de Usuario</h2>
        <div class="form-group">
        <label for="rol">Defina roles de acceso</label>
        <select class="form-select" aria-label="Default select example" id="rol" name="rol" th:field="*{rol}" required>
          <option selected> Selecciona</option>
          <option value="1">Administrador</option>
          <option value="2">Usuario</option>
        </select>
        <br>
        </div>
        <input type="button" name="previous" class="previous btn btn-info" value="Previo" />
        <input type="submit" name="submit" class="submit btn btn-success" value="Enviar" id="submit_data" />
        </fieldset>
        </form>
        </div>

    
 
</body>
</html>
<script type="text/javascript">
    $(document).ready(function(){
        var current = 1,current_step,next_step,steps;
        steps = $("fieldset").length;
        $(".next").click(function(){
            current_step = $(this).parent();
            next_step = $(this).parent().next();
            next_step.show();
            current_step.hide();
            setProgressBar(++current);
        });
        $(".previous").click(function(){
            current_step = $(this).parent();
            next_step = $(this).parent().prev();
            next_step.show();
            current_step.hide();
            setProgressBar(--current);
        });
        setProgressBar(current);
        // Change progress bar action
        function setProgressBar(curStep){
            var percent = parseFloat(100 / steps) * curStep;
            percent = percent.toFixed();
            $(".progress-bar")
                .css("width",percent+"%")
                .html(percent+"%");		
        }
    });
    </script>